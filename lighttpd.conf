# JellyStream Lighttpd Configuration
# Auto-generated - do not edit manually

server.modules = (
    "mod_access",
    "mod_fastcgi",
    "mod_accesslog"
)

server.document-root = "/home/oarko/jellystream/app/web/php"
server.upload-dirs = ( "/tmp" )
server.errorlog = "/home/oarko/jellystream/logs/lighttpd-error.log"
server.pid-file = "/tmp/jellystream-lighttpd.pid"
server.port = 8080

# Bind to localhost only (use 0.0.0.0 for all interfaces)
server.bind = "localhost"

# Index files
index-file.names = ( "index.php", "index.html" )

# MIME types
mimetype.assign = (
    ".html" => "text/html",
    ".txt" => "text/plain",
    ".jpg" => "image/jpeg",
    ".png" => "image/png",
    ".css" => "text/css",
    ".js" => "application/javascript",
    ".json" => "application/json"
)

# Access log
accesslog.filename = "/home/oarko/jellystream/logs/lighttpd-access.log"

# FastCGI for PHP
fastcgi.server = ( ".php" =>
    ((
        "bin-path" => "/usr/bin/php-cgi",
        "socket" => "/tmp/jellystream-php.socket",
        "max-procs" => 2,
        "bin-environment" => (
            "PHP_FCGI_CHILDREN" => "4",
            "PHP_FCGI_MAX_REQUESTS" => "1000"
        ),
        "broken-scriptfilename" => "enable"
    ))
)

# Deny access to hidden files
$HTTP["url"] =~ "^/\." {
    url.access-deny = ( "" )
}

# Deny access to config files
$HTTP["url"] =~ "\.(env|phpconfig)" {
    url.access-deny = ( "" )
}
